<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">

    <title>SB Admin 2 - Bootstrap Admin Theme</title>

    <!-- Bootstrap Core CSS -->
    <link rel="stylesheet" type="text/css" href="../third-party/bootstrap/bootstrap-3.3.6-dist/css/bootstrap.min.css">

    <!-- MetisMenu CSS -->
    <link href="startbootstrap-sb-admin-2-3.3.7-1/vendor/metisMenu/metisMenu.min.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link href="startbootstrap-sb-admin-2-3.3.7-1/dist/css/sb-admin-2.css" rel="stylesheet">

    <!-- Custom Fonts -->
    <link rel="stylesheet" type="text/css" href="../third-party/font-awesome/font-awesome-4.7.0/css/font-awesome.min.css">
    
    <!-- SyntaxHighlighter -->
    <!-- Include *at least* the core style and default theme -->
    <link rel="stylesheet" type="text/css" href="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/styles/shCore.css">
    <link rel="stylesheet" type="text/css" href="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/styles/shThemeDefault.css">
    
    <link rel="stylesheet" type="text/css" href="../css/body.css">
    <link rel="stylesheet" type="text/css" href="../css/chrome.css">

</head>

<body ng-app="myApp">

    <div id="wrapper" ng-controller="menuCtrl">

        <!-- Navigation -->
        <nav class="navbar navbar-default navbar-static-top" role="navigation" style="margin-bottom: 0" ng-include="'navigation-menu.html'">
        </nav>

        <div id="page-wrapper">
            <div class="row">
                <div class="col-lg-12">
                    <h1 class="page-header">Create Staff Profile</h1>
                </div>
                <div class="col-lg-12">
                    By default, using the parent to find the program id<br>
                    or you may override the screen by prorgam id
                </div>
                <div class="col-lg-12">
                    <div ng-controller="staffProfileCtrl as deleteDeptCtrl" style="max-width: 750px;">
						<div class="panel panel-default">
						  <div class="panel-heading">Process Message</div>
						  <div class="panel-body">
							<message ng-model="processMsg" auto-close></message>
						  </div>
						</div>
                        <entry ng-model="entryForm" program-id="he01sm" edit-mode="create">
                            <form class="form-horizontal" ng-submit="SubmitData()">
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputStaffID">Staff ID</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="inputStaffID" ng-model="entryForm.StaffID">
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputSurname">Surname</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="inputSurname" placeholder="Chan" ng-model="entryForm.LastName">
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputGivenName">Given Name</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="inputGivenName" placeholder="Tai Man" ng-model="entryForm.FirstName">
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputChiName">Chinese Name</label>
                                <div class="col-sm-10">
                                  <input type="text" class="form-control" id="inputChiName" placeholder="陳大文" ng-model="entryForm.ChineseName">
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputDeptCode">Department</label>
                                <div class="col-sm-10">
                                  <editbox ng-model="deptEditBox" program-id="dw01dp">
                                    <div class="input-group">
                                      <input type="text" class="form-control" id="inputDeptCode" ng-model="entryForm.DeptCode" readonly>
                                      <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" aria-label="Edit List" ng-click="OpenPageView()">
                                          <span class="glyphicon glyphicon glyphicon-th-list" aria-hidden="true"></span>
                                        </button>
                                      </span>
                                      <input type="text" class="form-control" ng-model="deptEditBox.Description" readonly>
                                    </div>
                                  </editbox>
                                </div>
                              </div>
<!--
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputSectionCode">Section</label>
                                <div class="col-sm-10">
                                  <editbox ng-model="sectionEditBox" program-id="hw03se">
                                    <div class="input-group">
                                      <input type="text" class="form-control" id="inputSectionCode" ng-model="entryForm.SectionCode" readonly>
                                      <span class="input-group-btn">
                                        <button type="button" class="btn btn-default" aria-label="Edit List" ng-click="OpenPageView()">
                                          <span class="glyphicon glyphicon glyphicon-th-list" aria-hidden="true"></span>
                                        </button>
                                      </span>
                                      <input type="text" class="form-control" ng-model="sectionEditBox.Desc" readonly>
                                    </div>
                                  </editbox>
                                </div>
                              </div>
-->
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputDateOfBirth">Date of Birth</label>
                                <div class="col-sm-10">
                                  <input type="date" class="form-control" id="inputDateOfBirth" ng-model="entryForm.Birthday">
                                </div>
                              </div>
                              <div class="form-group">
                                <label class="col-sm-2 control-label" for="inputEmployeeDate">Employee Date</label>
                                <div class="col-sm-10">
                                  <input type="date" class="form-control" id="inputEmployeeDate" ng-model="entryForm.EmploymentDate">
                                </div>
                              </div>
                              <div class="form-group">
                                <button type="submit" class="col-sm-offset-2 btn btn-default">Create</button>
                              </div>
                            </form>
                        </entry>
                    </div>
                </div>
            </div>
            <!-- /.row -->
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->
    

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    
    
    <script type="text/javascript" src="../third-party/jQuery/jquery-2.2.1.min.js"></script>
    <script type="text/javascript" src="../third-party/jQuery/jquery.cookie-1.4.1.min.js"></script>
    
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular.min.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-animate.min.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-aria.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-route.min.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-touch.min.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-messages.js"></script>
    <script type="text/javascript" src="../third-party/angularjs/angular-1.6.5/angular-cookies.min.js"></script>
    
    <script type="text/javascript" src="js/common.js"></script>
    <script type="text/javascript" src="js/config.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/directive.js"></script>
    <script type="text/javascript" src="js/service.js"></script>
    
    <script type="text/javascript" src="../third-party/angularjs-modules-plugins/UI-Bootstrap/ui-bootstrap-tpls-1.3.2.js"></script>
    
    <script type="text/javascript" src="../third-party/Blob.js-master/Blob.js"></script>
    <script type="text/javascript" src="../third-party/FileSaver.js/FileSaver.js-1.3.2/FileSaver.min.js"></script>
    <script src="../third-party/angularjs-modules-plugins/ng-file-upload-12.2.12/demo/src/main/webapp/js/ng-file-upload-shim.js"></script>
    <script src="../third-party/angularjs-modules-plugins/ng-file-upload-12.2.12/demo/src/main/webapp/js/ng-file-upload.js"></script>
    
    <!-- Bootstrap Core JavaScript -->
    <script src="startbootstrap-sb-admin-2-3.3.7-1/vendor/bootstrap/js/bootstrap.min.js"></script>
    
    <!-- Metis Menu Plugin JavaScript -->
    <script src="startbootstrap-sb-admin-2-3.3.7-1/vendor/metisMenu/metisMenu.min.js"></script>

    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shCore.js"></script>
    <!--
        At least one brush, here we choose JS. You need to include a brush for every 
        language you want to highlight
    -->
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushCSharp.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushCss.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushJava.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushPhp.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushSql.js"></script>
    <script src="../third-party/SyntaxHighlighter/syntaxhighlighter_3.0.83/scripts/shBrushXml.js"></script>

    <!-- sb-admin-2 Theme JavaScript -->
    <script src="demo.js"></script>
    
    <link rel="stylesheet" type="text/css" href="../third-party/uikit/uikit-2.27.4/css/uikit.almost-flat.min.css">
    <link rel="stylesheet" type="text/css" href="../third-party/uikit/uikit-2.27.4/css/components/notify.almost-flat.min.css">
    <script type="text/javascript" src="../third-party/uikit/uikit-2.27.4/js/uikit.min.js"></script>
    <script type="text/javascript" src="../third-party/uikit/uikit-2.27.4/js/components/notify.min.js"></script>

    
    <script>
    "use strict";
    app.controller('staffProfileCtrl', ['$scope', '$element', function ($scope, $element, $rootScope) {
        function Initialize(){
        var entryForm = {};    
        $scope.entryForm = entryForm;
        $scope.directiveDict = {};

        $scope.deptEditBox = {};
        $scope.sectionEditBox = {};
        }
        Initialize();

        $scope.SetDefaultValue = function(scope, iElement, iAttrs, controller){
            // entryForm.StaffID = "";
            // entryForm.Surname = "";
            // entryForm.GivenName = "";
            // entryForm.ChineseName = "";

        controller.ngModel.DateOfBirth = new Date(0, 0, 0);
        controller.ngModel.EmployeeDate = new Date(0, 0, 0);
        }

      $scope.EventListener = function(scope, iElement, iAttrs, controller){
        console.log("<"+iElement[0].tagName+">" +" Directive overried EventListener()");
        var prgmID = scope.programId;
        var tagName = iElement[0].tagName.toLowerCase();
        var editMode = "";

        if(tagName == "entry") editMode = iAttrs.editMode;

        var varName = prgmID;//tagName + prgmID + editMode;
        varName = varName.toLowerCase();

        if($scope.directiveDict[varName] == null || typeof($scope.directiveDict[varName]) == "undefined"){
          $scope.directiveDict[varName] = scope;
        }

        // console.dir(scope);
        // console.dir(iElement);
        // console.dir(iAttrs);
        // console.dir(controller);

        //http://api.jquery.com/Types/#Event
        //The standard events in the Document Object Model are:
        // blur, focus, load, resize, scroll, unload, beforeunload,
        // click, dblclick, mousedown, mouseup, mousemove, mouseover, mouseout, mouseenter, mouseleave,
        // change, select, submit, keydown, keypress, and keyup.
        iElement.ready(function() {

        })
      }

      $scope.CustomSelectedToRecord = function(sRecord, rowScope, scope, iElement, controller){
          console.dir(iElement)
        console.log("<"+iElement[0].tagName+">" +" Directive overried CustomPointedToRecord()");

        var tagName = iElement[0].tagName.toLowerCase();
        var prgmID = scope.programId.toLowerCase();

        if(prgmID == "dw01dp"){
          // asign the selected record to ng-model
          $scope.deptEditBox = sRecord;
          $scope.entryForm.DeptCode = sRecord.DepartmentCode;
        }

        else if (prgmID == "dw02se"){
          $scope.sectionEditBox = sRecord;
          $scope.entryForm.SectionCode = sRecord.SectionCode; 
        }

      }

      $scope.ValidateBuffer = function(scope, iElement, iAttrs, controller){
        controller.ngModel.FullName = controller.ngModel.LastName + ' ' +  controller.ngModel.FirstName;

        return true;
      };

    }]);
    </script>
</body>

</html>
